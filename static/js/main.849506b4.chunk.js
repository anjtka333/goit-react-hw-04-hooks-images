(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__iVb8C","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1NcZ2"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3JCyg",Modal:"Modal_Modal__3Jw5N"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1xr5E"}},26:function(e,t,a){e.exports={Button:"Button_Button__2qbzl"}},27:function(e,t,a){e.exports={App:"App_App__1jxKU"}},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1oVWg",SearchForm:"Searchbar_SearchForm__1bmYh",SearchFormButton:"Searchbar_SearchFormButton__1kL9y","SearchForm-button-label":"Searchbar_SearchForm-button-label__28Dk0","SearchForm-input":"Searchbar_SearchForm-input__9K1fS"}},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(9),o=a.n(r),l=a(16),i=a(4),s=a(5),u=a.n(s),b=a(1),m=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(b.jsx)("header",{className:u.a.Searchbar,children:Object(b.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(b.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(b.jsx)("span",{className:u.a["SearchForm-button-label"],children:"Search"})}),Object(b.jsx)("input",{className:u.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.target.value)}})]})})},j=a(29),h=a(11),d=a.n(h);a(52).config();d.a.defaults.baseURL="https://pixabay.com/api/";var f=function(e,t){var a;return a={q:e,per_page:12,page:t},d.a.defaults.params=Object(j.a)({key:"23779410-abe809331958b49ace969e642"},a),d.a.get().then((function(e){return e.data.hits.map((function(e){return{title:e.id,url:e.webformatURL,largeImageURL:e.largeImageURL}}))})).catch((function(e){throw e}))},O=a(14),p=a.n(O),g=function(e){var t=e.pictureTitle,a=e.pictutesUrl,c=e.cbOnClick;return Object(b.jsx)("li",{className:p.a.ImageGalleryItem,onClick:function(){return c(a,t)},children:Object(b.jsx)("img",{src:a,alt:t,className:p.a["ImageGalleryItem-image"]})})},_=a(79),S=a(25),x=a.n(S),y=function(e){var t=e.pictures,a=e.cbOnClick;return Object(b.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){return Object(b.jsx)(g,{cbOnClick:a,pictureTitle:e.title,pictutesUrl:e.url},Object(_.a)())}))})},v=a(26),I=a.n(v),k=function(e){var t=e.cbOnClick;return Object(b.jsx)("button",{className:I.a.Button,onClick:t,type:"button",children:"More"})},w=a(27),C=a.n(w),N=a(28),F=a.n(N),G=a(15),B=a.n(G),U=document.querySelector("#modal-root"),E=function(e){var t=e.onClose,a=e.modalUrl,n=e.modalTitle;console.log(n);var o=function(e){"Escape"===e.code&&t()};Object(c.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}),[]);return Object(r.createPortal)(Object(b.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(b.jsx)("div",{className:B.a.Modal,children:Object(b.jsx)("img",{src:a,alt:n})})}),U)},L=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],u=o[1],j=Object(c.useState)(""),h=Object(i.a)(j,2),d=h[0],O=h[1],p=Object(c.useState)(1),g=Object(i.a)(p,2),_=g[0],S=g[1],x=Object(c.useState)(""),v=Object(i.a)(x,2),I=v[0],w=v[1],N=Object(c.useState)(""),G=Object(i.a)(N,2),B=G[0],U=G[1];Object(c.useEffect)((function(){d&&L()}),[d,_]);var L=function(){u(!0),f(d.trim(),_).then((function(e){0===e.length&&alert("No search result"),n((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}))})).catch((function(e){console.log(e.message)})).finally((function(){1!==_&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),u(!1)}))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";w(t),U(e)};return Object(b.jsxs)("div",{className:C.a.App,children:[Object(b.jsx)(m,{onSubmit:function(e){n([]),S(1),O(e)}}),Object(b.jsx)(y,{pictures:a,cbOnClick:M}),s&&Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(b.jsx)(F.a,{type:"Hearts",color:"#3F51B5",height:80,width:80})}),a.length>=12&&Object(b.jsx)(k,{cbOnClick:function(){S((function(e){return e+1}))}}),B&&Object(b.jsx)(E,{onClose:M,modalUrl:B,modalTitle:I})]})};a(76);o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.849506b4.chunk.js.map