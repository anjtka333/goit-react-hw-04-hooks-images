{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","service/api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","Serchbar","onSubmit","useState","searchQ","setSearchQ","className","s","Searchbar","SearchForm","e","preventDefault","type","SearchFormButton","autoComplete","autoFocus","placeholder","value","onChange","target","require","config","axios","defaults","baseURL","getPictures","query","page","params","q","per_page","key","process","get","then","data","hits","map","item","title","id","url","webformatURL","largeImageURL","catch","err","ImageGalleryItem","pictureTitle","pictutesUrl","cbOnClick","onClick","src","alt","ImageGallery","pictures","picture","v4","Button","modalRoot","document","querySelector","Modal","onClose","modalUrl","modalTitle","console","log","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","App","setPictures","isLoading","setIsLoading","setQuery","setPage","setModalTitle","setLargeImageURL","getData","trim","length","alert","prev","message","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleModalShow","style","display","justifyContent","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.849506b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__iVb8C\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1NcZ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3JCyg\",\"Modal\":\"Modal_Modal__3Jw5N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1xr5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2qbzl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1jxKU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1oVWg\",\"SearchForm\":\"Searchbar_SearchForm__1bmYh\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1kL9y\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__28Dk0\",\"SearchForm-input\":\"Searchbar_SearchForm-input__9K1fS\"};","import { useState } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Serchbar = ({ onSubmit }) => {\r\n  const [searchQ, setSearchQ] = useState(\"\");\r\n  const search = (e) => {\r\n    setSearchQ(e.target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(searchQ);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s[\"SearchForm-button-label\"]}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s[\"SearchForm-input\"]}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={searchQ}\r\n          onChange={search}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Serchbar;\r\n","import axios from \"axios\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\n// axios.defaults.baseURL = \"https://newsapi.org/v2/\"; api key d335026227984500a8905e832ae515ac\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n\r\nconst setParams = (params) =>\r\n  (axios.defaults.params = { key: API_KEY, ...params });\r\n\r\nexport const getPictures = (query, page) => {\r\n  setParams({\r\n    q: query,\r\n    per_page: 12,\r\n    page,\r\n  });\r\n\r\n  return (\r\n    axios\r\n      // .get(`everything`)\r\n      .get()\r\n      .then(({ data }) => {\r\n        const images = data.hits.map((item) => {\r\n          return {\r\n            title: item.id,\r\n            url: item.webformatURL,\r\n            largeImageURL: item.largeImageURL,\r\n          };\r\n        });\r\n        return images;\r\n      })\r\n      .catch((err) => {\r\n        throw err;\r\n      })\r\n  );\r\n};\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ pictureTitle, pictutesUrl, cbOnClick }) => {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => cbOnClick(pictutesUrl, pictureTitle)}\r\n    >\r\n      <img\r\n        src={pictutesUrl}\r\n        alt={pictureTitle}\r\n        className={s[\"ImageGalleryItem-image\"]}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  pictureTitle: PropTypes.number,\r\n  pictutesUrl: PropTypes.string,\r\n  cbOnClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport { v4 } from \"uuid\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ pictures, cbOnClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {pictures.map((picture) => (\r\n        <ImageGalleryItem\r\n          cbOnClick={cbOnClick}\r\n          key={v4()}\r\n          pictureTitle={picture.title}\r\n          pictutesUrl={picture.url}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array,\r\n  cbOnClick: PropTypes.func,\r\n};\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nconst Button = ({ cbOnClick }) => {\r\n  return (\r\n    <button className={s.Button} onClick={cbOnClick} type=\"button\">\r\n      More\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { createPortal } from \"react-dom\";\r\nimport { useEffect } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onClose, modalUrl, modalTitle }) => {\r\n  console.log(modalTitle);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      return window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  const handleBackDropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackDropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={modalUrl} alt={modalTitle} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useEffect, useState } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { getPictures } from \"./service/api\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport s from \"./App.module.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./components/Modal/Modal\";\n\nconst App = () => {\n  const [pictures, setPictures] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [modalTitle, setModalTitle] = useState(\"\");\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n\n  useEffect(() => {\n    if (query) {\n      getData();\n    }\n  }, [query, page]);\n\n  const changeQuery = (query) => {\n    setPictures([]);\n    setPage(1);\n    setQuery(query);\n  };\n\n  const getData = () => {\n    setIsLoading(true);\n    getPictures(query.trim(), page)\n      .then((pictures) => {\n        if (pictures.length === 0) alert(\"No search result\");\n        setPictures((prev) => [...prev, ...pictures]);\n      })\n      .catch((err) => {\n        console.log(err.message);\n      })\n      .finally(() => {\n        if (page !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n        setIsLoading(false);\n      });\n  };\n  const handleChangePage = () => {\n    setPage((prev) => prev + 1);\n  };\n  const handleModalShow = (largeImageURL = \"\", modalTitle = \"\") => {\n    setModalTitle(modalTitle);\n    setLargeImageURL(largeImageURL);\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={changeQuery} />\n      <ImageGallery pictures={pictures} cbOnClick={handleModalShow} />\n      {isLoading && (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <Loader type=\"Hearts\" color=\"#3F51B5\" height={80} width={80} />\n        </div>\n      )}\n      {pictures.length >= 12 && <Button cbOnClick={handleChangePage} />}\n      {largeImageURL && (\n        <Modal\n          onClose={handleModalShow}\n          modalUrl={largeImageURL}\n          modalTitle={modalTitle}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./Shared_styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}